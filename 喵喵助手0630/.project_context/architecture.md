# 架构文档 (V1)

本摘要由AI在初始准备阶段自动生成。

## 1. 当前架构 (原型阶段)

- **类型:** 纯前端单体应用。
- **组成:**
    - `喵喵助手.html`: 包含所有UI、交互逻辑和**模拟**业务逻辑的HTML文件。
    - `config.json`: 一个静态的JSON文件，用于存储配置，但目前未被应用动态读取。
- **数据流:** 用户交互 -> `喵喵助手.html` 内的JavaScript -> 模拟回复 -> UI更新。
- **评价:** 这是一个典型的UI原型架构，适用于快速验证界面设计，但无法支持实际业务。

## 2. 推荐目标架构 (安全生产方案)

根据 `官方文档.md` 的建议，为实现安全、可扩展的服务，推荐采用前后端分离的架构。

- **类型:** 前后端分离架构。
- **前端:**
    - **框架:** 保持现有 `喵喵助手.html` 的结构，或可将其JS/CSS/HTML分离以提高可维护性。
    - **职责:** 负责用户界面、交互和状态管理。
    - **渲染增强:**
        - 引入 `Marked.js` 实现Markdown到HTML的转换。
        - 引入 `DOMPurify` 确保渲染内容的安全性。
        - 引入 `Highlight.js` 实现代码块的语法高亮。
- **后端 (代理/BFF):**
    - **技术栈:** 可采用文档中推荐的 Python (Flask/FastAPI) 或 Node.js (Express) 等轻量级框架。
    - **职责:**
        1.  提供一个 `/chat` API端点供前端调用。
        2.  **安全地**从服务器环境变量或安全配置中读取火山引擎API密钥。
        3.  接收前端请求，构造对火山引擎大模型API的请求。
        4.  将大模型API的响应返回给前端。
- **数据流:**
    1.  用户在前端界面输入信息。
    2.  前端JS将请求发送到我们的后端代理 (例如 `http://<your-server>/api/chat`)。
    3.  后端代理接收请求，并使用**安全的密钥**调用火山引擎的官方API。
    4.  后端代理将火山引擎的响应转发回前端。
    5.  前端更新UI。
- **优势:**
    - **安全:** API密钥不暴露在浏览器中。
    - **可扩展:** 后端可以增加更多业务逻辑，如用户认证、数据缓存、日志记录等，而无需修改前端。
    - **可维护:** 前后端职责清晰，便于分工协作和独立迭代。 