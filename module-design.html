<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¾è®¡æ€ç»´ - ç¥å¥‡å–µå–µæ€ç»´è®­ç»ƒå®éªŒå®¤</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/course-navigation.css">
    <link rel="stylesheet" href="assets/css/loading-animation.css">
    <link rel="stylesheet" href="assets/css/pixel-cat.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- AIGCç¥ç»ç½‘ç»œèƒŒæ™¯ -->
    <div class="generative-background">
        <canvas class="neural-art" id="neuralCanvas"></canvas>
    </div>
    
    <!-- åˆ†ç¦»å¼å“ç‰Œæ ‡é¢˜ -->
    <header class="split-brand-header">
        <div class="brand-left">
            <h1 class="artistic-brand-title">ç¥å¥‡å–µå–µ</h1>
            <p class="artistic-brand-subtitle-below">æ€ç»´è®­ç»ƒå®éªŒå®¤</p>
        </div>
        <div class="brand-right">
            <a href="index.html" class="home-button">
                <svg class="home-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                <span>è¿”å›ä¸»é¡µ</span>
            </a>
        </div>
    </header>
    
    <!-- æ¨¡å—ä¸»ä½“ -->
    <main class="module-main module-design">
        <!-- æ¨¡å—å¤´éƒ¨ -->
            <div class="module-header">
                <div class="module-icon-large">ğŸ¨</div>
                <h1 class="module-title">è®¾è®¡æ€ç»´</h1>
                <p class="module-subtitle">æ¿€å‘åˆ›æ„æ€ç»´ï¼Œè§£å†³å¤æ‚é—®é¢˜</p>
                <div class="module-stats">
                    <div class="stat-item">
                        <span class="stat-number">30</span>
                        <span class="stat-label">è¯¾ç¨‹æ€»æ•°</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">3</span>
                        <span class="stat-label">å­¦ä¹ å±‚çº§</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">0%</span>
                        <span class="stat-label">å®Œæˆè¿›åº¦</span>
                    </div>
                </div>
                <a href="quiz.html?module=design" class="enter-quiz-btn">è¿›å…¥è®­ç»ƒåœº</a>
            </div>

            <!-- å­¦ä¹ è·¯å¾„ -->
            <div class="learning-path" id="learningPath">
                <!-- åŠ¨æ€ç”Ÿæˆå­¦ä¹ å±‚çº§ -->
            </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="simple-footer">
        <div class="footer-content">
            <nav class="footer-nav">
                <a href="index.html" class="footer-link">è¿”å›é¦–é¡µ</a>
                <a href="index.html#modules" class="footer-link">å…¶ä»–æ¨¡å—</a>
                <a href="quiz.html?module=design" class="footer-link">è®­ç»ƒåœº</a>
                <a href="index.html#about" class="footer-link">å…³äºæˆ‘ä»¬</a>
            </nav>
            <p>&copy; 2025 ç¥å¥‡å–µå–µæ€ç»´è®­ç»ƒå®éªŒå®¤. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
        </div>
    </footer>



    <script>
        class DesignThinkingModule {
            constructor() {
                this.coursesData = null;
                this.init();
            }

            async init() {
                try {
                    await this.loadCoursesData();
                    this.renderLearningPath();
                } catch (error) {
                    console.error('åŠ è½½è¯¾ç¨‹æ•°æ®å¤±è´¥:', error);
                    this.showError();
                }
            }

            async loadCoursesData() {
                const response = await fetch('json-data/courses-index.json');
                if (!response.ok) {
                    throw new Error('è¯¾ç¨‹ç´¢å¼•æ–‡ä»¶ä¸å­˜åœ¨');
                }
                this.coursesData = await response.json();
            }

            filterDesignThinkingCourses() {
                const allCourses = this.coursesData.courses;

                // ç­›é€‰è®¾è®¡æ€ç»´ç›¸å…³è¯¾ç¨‹
                const designCourses = allCourses.filter(course =>
                    course.filename.includes('è®¾è®¡æ€ç»´') ||
                    course.title.includes('è®¾è®¡æ€ç»´') ||
                    (course.id >= 33 && course.id <= 42) || // å…¥é—¨æ¨¡å—çš„è®¾è®¡æ€ç»´è¯¾ç¨‹
                    (course.id >= 75 && course.id <= 84) || // åŸºç¡€æ¨¡å—çš„è®¾è®¡æ€ç»´è¯¾ç¨‹
                    (course.id >= 117 && course.id <= 124) // è¿›é˜¶æ¨¡å—çš„è®¾è®¡æ€ç»´è¯¾ç¨‹
                );

                // æŒ‰å±‚çº§åˆ†ç»„
                const levels = {
                    beginner: designCourses.filter(course => course.id >= 33 && course.id <= 42),
                    intermediate: designCourses.filter(course => course.id >= 75 && course.id <= 84),
                    advanced: designCourses.filter(course => course.id >= 117 && course.id <= 124)
                };

                return [
                    {
                        id: 'beginner',
                        name: 'å…¥é—¨æ¨¡å—',
                        icon: 'ğŸŒ±',
                        description: 'å»ºç«‹è®¾è®¡æ€ç»´çš„åŸºç¡€è®¤çŸ¥æ¡†æ¶',
                        courses: levels.beginner
                    },
                    {
                        id: 'intermediate',
                        name: 'åŸºç¡€æ¨¡å—',
                        icon: 'ğŸ—ï¸',
                        description: 'æ·±åŒ–è®¾è®¡æ€ç»´æŠ€èƒ½ï¼ŒæŒæ¡æ ¸å¿ƒè®¾è®¡æ–¹æ³•',
                        courses: levels.intermediate
                    },
                    {
                        id: 'advanced',
                        name: 'è¿›é˜¶æ¨¡å—',
                        icon: 'ğŸš€',
                        description: 'æŒæ¡é«˜çº§è®¾è®¡æ€ç»´æŠ€å·§ï¼Œæˆä¸ºåˆ›æ–°ä¸“å®¶',
                        courses: levels.advanced
                    }
                ];
            }

            renderLearningPath() {
                const pathContainer = document.getElementById('learningPath');
                const levels = this.filterDesignThinkingCourses();

                // ä¸ºæ¯ä¸ªè¯¾ç¨‹åˆ†é…é¢œè‰²é˜¶æ®µå’Œå›¾æ ‡
                const colorStages = ['beginner', 'intermediate', 'advanced', 'expert', 'master'];
                const icons = ['ğŸ’¡', 'ğŸ¨', 'âœ¨', 'ğŸš€', 'ğŸ’'];



                // å°†æ‰€æœ‰è¯¾ç¨‹å¹³é“ºåˆ°ç½‘æ ¼ä¸­ï¼ŒæŒ‰çº§åˆ«åˆ†é…é¢œè‰²
                const allCourses = [];
                levels.forEach((level, levelIndex) => {
                    level.courses.forEach((course, courseIndex) => {
                        const colorStage = colorStages[levelIndex % colorStages.length];
                        const icon = icons[levelIndex % icons.length];
                        allCourses.push({...course, colorStage, icon});
                    });
                });

                pathContainer.innerHTML = allCourses.map((course, idx) => {
                    // ç²¾è‡´çš„ç­‰çº§ç³»ç»Ÿ
                    const difficultyMap = {
                        'beginner': { label: 'å…¥é—¨çº§', class: 'beginner', description: 'åŸºç¡€å­¦ä¹ ' },
                        'intermediate': { label: 'åŸºç¡€çº§', class: 'intermediate', description: 'è¿›é˜¶å­¦ä¹ ' },
                        'advanced': { label: 'è¿›é˜¶çº§', class: 'advanced', description: 'æŒ‘æˆ˜å­¦ä¹ ' },
                        'expert': { label: 'é«˜çº§', class: 'expert', description: 'æ·±åº¦å­¦ä¹ ' },
                        'master': { label: 'ç²¾é€šçº§', class: 'master', description: 'ä¸“å®¶çº§å­¦ä¹ ' }
                    };

                    const difficulty = difficultyMap[course.colorStage] || difficultyMap['beginner'];

                    return `
                        <a href="course-detail.html?id=${course.id}" class="course-card" data-level="${course.colorStage}">
                            <div class="difficulty-label ${difficulty.class}">${difficulty.label}</div>
                            <div class="course-card-header">
                                <div class="course-number">${(idx+1).toString().padStart(2, '0')}</div>
                                <div class="difficulty-badge ${difficulty.class}"></div>
                            </div>
                            <h3 class="course-title">${course.title.replace(/^ç¬¬\d+è¯¾ï¼š/, '')}</h3>
                            <div class="course-meta">
                                <span>â±ï¸ ${course.duration || '23åˆ†é’Ÿ'}</span>
                                <span>â€¢</span>
                                <span>æœªå¼€å§‹</span>
                            </div>
                        </a>
                    `;
                }).join('');

                // æ·»åŠ è¡¥å……åŒ…è¯¾ç¨‹å¡ç‰‡
                pathContainer.innerHTML += `
                    <a href="course-detail.html?id=144" class="course-card extension" data-level="extension">
                        <div class="difficulty-label extension">è¡¥å……åŒ…</div>
                        <div class="course-card-header">
                            <div class="course-number">è¡¥å……</div>
                            <div class="difficulty-badge extension"></div>
                        </div>
                        <h3 class="course-title">æƒ…æ„Ÿæ™ºæ…§è¡¥å……åŒ…</h3>
                        <div class="course-meta">
                            <span>ğŸ” é«˜çº§æ€è€ƒ</span>
                        </div>
                    </a>
                `;
            }

            showError() {
                document.getElementById('learningPath').innerHTML = `
                    <div class="level-section">
                        <div class="level-header">
                            <h2 class="level-title">åŠ è½½å¤±è´¥</h2>
                            <p class="level-description">æ— æ³•åŠ è½½è¯¾ç¨‹åˆ—è¡¨ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚</p>
                        </div>
                    </div>
                `;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new DesignThinkingModule();
        });
    </script>

    <script src="assets/js/loading-animation.js"></script>
    <script src="assets/js/neural-art.js"></script>
    <script src="assets/js/pixel-cat.js"></script>
    <script src="assets/js/card-title-enhancer.js"></script>
    <script src="assets/js/chat-assistant.js" defer></script>
</body>
</html>
